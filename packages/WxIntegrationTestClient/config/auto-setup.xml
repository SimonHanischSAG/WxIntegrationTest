<?xml version="1.0" encoding="UTF-8"?>
<config>
	<autoConfig>
	    <messaging>
	        <integrationServer>
            	<jmsTrigger>
    				<triggerName>wx.integrationTest.client.trigger:jmControllerToAllClientsOfClusterTopicTrigger</triggerName>
    				<package>WxIntegrationTestClient</package>
    				<aliasName>${pkg:WxIntegrationTestClientConfig;testclient.connection}</aliasName>
    				<isConcurrent>true</isConcurrent>
    				<maxExecutionThreads>30</maxExecutionThreads>
    				<destinations>
    					<destination>internal/ControllerToAllClientsOfClusterTopic</destination>
    					<destinationType>Topic</destinationType>
    					<durableSubscriberName>WxIntegrationTestClient_${pkg:WxIntegrationTestClientConfig;testclient.hostname}_${pkg:WxIntegrationTestClientConfig;testclient.port}_Subscriber</durableSubscriberName>
    					<messageSelector>clusterName = '${pkg:WxIntegrationTestClientConfig;testclient.clusterName}' OR clusterName IS NULL</messageSelector>
    				</destinations>
    				<routingRules>
    					<ruleName>Rule1</ruleName>
    					<serviceName>wx.integrationTest.client.pub:handleControllerMessage</serviceName>
    				</routingRules>
    				<enabled>true</enabled>
    				<maxRetryAttempts>2000000000</maxRetryAttempts>
    				<retryInterval>30000</retryInterval>
    				<suspendOnError>false</suspendOnError>
    				<onTransientError>Suspend and Retry Later/Suspend and Recover</onTransientError>
    			</jmsTrigger>
    			
            	<jmsTrigger>
    				<triggerName>wx.integrationTest.client.trigger:jmsControllerToOneClientOfClusterTopicTrigger</triggerName>
    				<package>WxIntegrationTestClient</package>
    				<aliasName>${pkg:WxIntegrationTestClientConfig;testclient.connection}</aliasName>
    				<isConcurrent>true</isConcurrent>
    				<maxExecutionThreads>10</maxExecutionThreads>
    				<destinations>
    					<destination>internal/ControllerToOneClientOfClusterTopic</destination>
    					<destinationType>Topic</destinationType>
    					<durableSubscriberName>WxIntegrationTestClient_${pkg:WxIntegrationTestClientConfig;testclient.clusterName}_Subscriber</durableSubscriberName>
    					<messageSelector>clusterName = '${pkg:WxIntegrationTestClientConfig;testclient.clusterName}' OR clusterName IS NULL</messageSelector>
    				</destinations>
    				<routingRules>
    					<ruleName>Rule1</ruleName>
    					<serviceName>wx.integrationTest.client.pub:handleControllerMessage</serviceName>
    				</routingRules>
    				<enabled>true</enabled>
    				<maxRetryAttempts>2000000000</maxRetryAttempts>
    				<retryInterval>30000</retryInterval>
    				<suspendOnError>false</suspendOnError>
    				<onTransientError>Suspend and Retry Later/Suspend and Recover</onTransientError>
    			</jmsTrigger>

            </integrationServer>
        </messaging>
    </autoConfig>
</config>
